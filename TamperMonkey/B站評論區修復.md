## B站評論區修復 (歸檔員自用)

修復B站影片底部留言版的 css 樣式集。

僅歸檔員自用, 如果你尚不瞭解製作脫機網頁的話, 請不要使用。

### 介紹

用於修復脫機文檔下留言板錯亂的問題。

**Q** 爲什麽保存 `*.mhtml` 脫機文檔之後, 評論區界面變得破爛不堪?

**A** 因爲自北站在給評論區使用 ShadowDOM 之後, 儅保存 style 樣式時, 原有瀏覽器不處理涉及 ShadowDOM 及其子節點以下的屬性值, 導致該節點元素不包含原有的樣式屬性。

**Q** 你是怎麽修復它的?

**A** 雖然受限瀏覽器限制不能保存 ShadowDOM 父節點以下的 css樣式, 但可以通過 js 脚本, 利用 `ShadowRoot` 來訪問子節點。

把已知的 css 樣式直接内嵌在 `style` 上就能保留原有的結構佈局啦~~

### 特色

- 評論區的完美修復
  
  > 文本輸入框體、回復欄
  > 回復列表
  > 點贊、點踩工具條
  > 筆記圖片功能
  > 粉絲牌、大航海牌紙、評論背景小卡片
  > emoji 表情、時間跳轉軸、外置連接
  > ...

- 自動展開評論 (需要手動鍵入 `window.biliautoclickreadmore = true;` )

- 筆記圖片展示為原圖 (需要手動鍵入 `window.bilifiximg = true;` )

- 評論區變更自動刷新

- 支持在 `t.bilibili.com` `space.bilibili.com` 上顯示多個評論區

### 注意

這個脚本僅適用於歸黨員使用, 如果你不瞭解製作脫機網頁的話, 請不要使用。

若出現任何不可回復的損傷的話, 本作者概不處理。

暫停脚本使用的話, 請手動輸入: `window.debug_comment = false;`
